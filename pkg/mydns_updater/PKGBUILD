# Maintainer: Ryo Munakata <afpacket@gmail.com>
pkgname=mydns_update
pkgver=0.1.1
pkgrel=1
pkgdesc="DNS record updater for MyDNS.jp"
arch=('i686' 'x86_64')
license=('GPL2')
depends=('make' 'gcc>=4.6.0')
confilcts=()
install=mydns_updater.install

# mydns_update git repo
mydns_update_git="https://github.com/pfpacket/mydns_update.git"
# Your Boost C++ libraries' path
boost_root="/usr"

build()
{
    git clone "${mydns_update_git}"
    cd mydns_update/
    make BOOST_ROOT="${boost_root}" rebuild
}

package()
{
    cd ${srcdir}/mydns_update/
    mkdir -p "${pkgdir}/etc/"
    mkdir -p "${pkgdir}/usr/bin/"
    install -D -m600 ./mydns.conf "${pkgdir}/etc/mydns.conf"
    install -D -m755 ./mydns_update "${pkgdir}/usr/bin/mydns_update"
}
