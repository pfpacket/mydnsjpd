# arg 1:  the new package version
# arg 2:  the old package version

# set a sane PATH to ensure that critical utils like depmod will be found
export PATH='/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'

post_install()
{
    echo "mydnsjpd configuration file installed at /etc/mydnsjpd.conf"
    echo "Please edit it for your configuration later"
}

pre_upgrade()
{
    [ -f /etc/mydnsjpd.conf ] && mv /etc/mydnsjpd.conf /etc/mydnsjpd.conf.pacnew
}

post_upgrade()
{
    if [ -f /etc/mydnsjpd.conf.pacnew ]; then
        mv /etc/mydnsjpd.conf.pacnew /etc/mydnsjpd.conf.pacnew.tmp
        mv /etc/mydnsjpd.conf /etc/mydnsjpd.conf.pacnew
        mv /etc/mydnsjpd.conf.pacnew.tmp /etc/mydnsjpd.conf
        echo "New configuration file installed as /etc/mydnsjpd.conf.pacnew"
    fi
}

post_remove()
{
    if [ -f /etc/mydnsjpd.conf.pacnew ]; then
        rm -f /etc/mydnsjpd.conf.pacnew
    fi
}
